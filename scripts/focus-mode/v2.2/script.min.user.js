// ==UserScript==
// @name         StackFocus 2.2
// @namespace    https://github.com/SpectricSO/stack-scripts
// @version      2.2
// @description  Cool stuff
// @author       SpectricSO
// @match        https://stackoverflow.com/*
// @icon         https://www.google.com/s2/favicons?domain=stackoverflow.com
// @grant        none
// ==/UserScript==

!function(){"use strict";$(document).ready(function(){var e;(e=document.createElement("link")).rel="stylesheet",e.href="https://fonts.googleapis.com/css?family=Roboto&display=swap",$(document.head).append(e),String.prototype.includes=function(e){return-1!=this.indexOf(e)},null!=localStorage.getItem("stack-focus-preferences")||localStorage.setItem("stack-focus-preferences",JSON.stringify({findajob:"show",teamsadvert:"show",oblock:"show",linked:"show",related:"show",hotnetworkq:"show"}));try{var s=JSON.parse(localStorage.getItem("stack-focus-preferences"))}catch(e){console.error("%cStack Focus storage has been corrupted. Enter %clocalStorage.removeItem('stack-focus-preferences');%c into the console to recalibrate storage.","","font-family:Courier","")}const i='<style>.stack-focus-container{pointer-events:none;z-index:100000;display: flex;align-items: center;justify-content: center;height: 100%;width: 100%;position: fixed;top: 0;left: 0;}.stack-focus{pointer-events:all;width: 700px; height: fit-content; background-color: white; z-index: 10000000; box-shadow: 0 0 3px black; border-radius: 5px; padding: 2em; font-family: Roboto}.stack-focus .stack-focus-option{position: relative}.stack-focus-option p{position: absolute; top: 5px}.stack-focus .input-group .f-radio-toggle{margin-left: auto}.stack-focus h1{margin-bottom: 5px;}</style> <div class="stack-focus-container"> <div class="stack-focus"> <h1>Stack Focus Mode</h1> <h3>By: <a href="https://stackoverflow.com/users/14251221">Spectric</a></h3> <div> <div class="stack-focus-option"> <p>Left sidebar Find a Job category:</p><div class="input-group"> <div class="grid f-radio-toggle _muted"> <div class="grid--cell"> <input class="js-subscribe" type="radio" name="stack-focus-1" id="left_sidebar_findajob_on" checked=""> <label for="left_sidebar_findajob_on" class="f-label">Show</label></div><div class="grid--cell"> <input class="_off js-unsubscribe " type="radio" name="stack-focus-1" id="left_sidebar_findajob_off"> <label for="left_sidebar_findajob_off" class="f-label">Hide</label></div></div></div></div><div class="stack-focus-option"> <p>Left sidebar Teams advertisement:</p><div class="input-group"> <div class="grid f-radio-toggle _muted"> <div class="grid--cell"> <input class="js-subscribe" type="radio" name="stack-focus-2" id="left_sidebar_teams_on" checked=""> <label for="left_sidebar_teams_on" class="f-label">Show</label></div><div class="grid--cell"> <input class="_off js-unsubscribe " type="radio" name="stack-focus-2" id="left_sidebar_teams_off"> <label for="left_sidebar_teams_off" class="f-label">Hide</label></div></div></div></div><div class="stack-focus-option"> <p>Overflow Blog + Featured on Meta + Hot Meta Posts:</p><div class="input-group"> <div class="grid f-radio-toggle _muted"> <div class="grid--cell"> <input class="js-subscribe" type="radio" name="stack-focus-3" id="right_sidebar_oblock_on" checked=""> <label for="right_sidebar_oblock_on" class="f-label">Show</label></div><div class="grid--cell"> <input class="_off js-unsubscribe " type="radio" name="stack-focus-3" id="right_sidebar_oblock_off"> <label for="right_sidebar_oblock_off" class="f-label">Hide</label></div></div></div></div><div class="stack-focus-option"> <p>Linked Posts:</p><div class="input-group"> <div class="grid f-radio-toggle _muted"> <div class="grid--cell"> <input class="js-subscribe" type="radio" name="stack-focus-4" id="right_sidebar_linkedposts_on" checked=""> <label for="right_sidebar_linkedposts_on" class="f-label">Show</label></div><div class="grid--cell"> <input class="_off js-unsubscribe " type="radio" name="stack-focus-4" id="right_sidebar_linkedposts_off"> <label for="right_sidebar_linkedposts_off" class="f-label">Hide</label></div></div></div></div><div class="stack-focus-option"> <p>Related Posts:</p><div class="input-group"> <div class="grid f-radio-toggle _muted"> <div class="grid--cell"> <input class="js-subscribe" type="radio" name="stack-focus-5" id="right_sidebar_relatedposts_on" checked=""> <label for="right_sidebar_relatedposts_on" class="f-label">Show</label></div><div class="grid--cell"> <input class="_off js-unsubscribe " type="radio" name="stack-focus-5" id="right_sidebar_relatedposts_off"> <label for="right_sidebar_relatedposts_off" class="f-label">Hide</label></div></div></div></div><div class="stack-focus-option"> <p>Hot Network Questions</p><div class="input-group"> <div class="grid f-radio-toggle _muted"> <div class="grid--cell"> <input class="js-subscribe" type="radio" name="stack-focus-6" id="right_sidebar_hotnetwork_on" checked=""> <label for="right_sidebar_hotnetwork_on" class="f-label">Show</label></div><div class="grid--cell"> <input class="_off js-unsubscribe " type="radio" name="stack-focus-6" id="right_sidebar_hotnetwork_off"> <label for="right_sidebar_hotnetwork_off" class="f-label">Hide</label></div></div></div></div></div></div></div>';function o(e){e.prop("checked",!0)}function t(){"show"!=s.findajob?($($("li .fs-fine").get(1)).hide(),$("#nav-jobs").hide(),$("#nav-companies").hide(),o($("#left_sidebar_findajob_off"))):($($("li .fs-fine").get(1)).show(),$("#nav-jobs").show(),$("#nav-companies").show()),"show"!=s.teamsadvert?($($(".nav-links").get(2)).hide(),o($("#left_sidebar_teams_off"))):$($(".nav-links").get(2)).show(),"show"!=s.oblock?($('.s-sidebarwidget[data-tracker="cb=1"]').hide(),o($("#right_sidebar_oblock_off"))):$('.s-sidebarwidget[data-tracker="cb=1"]').show(),"show"!=s.linked?($(".sidebar-linked").hide(),o($("#right_sidebar_linkedposts_off"))):$(".sidebar-linked").show(),"show"!=s.related?($(".sidebar-related").hide(),o($("#right_sidebar_relatedposts_off"))):$(".sidebar-related").show(),"show"!=s.hotnetworkq?($("#hot-network-questions").hide(),o($("#right_sidebar_hotnetwork_off"))):$("#hot-network-questions").show()}function a(e){return"show"==e?"hide":"show"}var d;$(document.body).append(i),t(),(d=$(".stack-focus")).hide(),$("input",d).on("click",function(){!function(e){e.includes("left_sidebar_findajob")&&(s.findajob=a(s.findajob)),e.includes("left_sidebar_teams")&&(s.teamsadvert=a(s.teamsadvert)),e.includes("right_sidebar_oblock")&&(s.oblock=a(s.oblock)),e.includes("right_sidebar_linkedposts")&&(s.linked=a(s.linked)),e.includes("right_sidebar_relatedposts")&&(s.related=a(s.related)),e.includes("right_sidebar_hotnetwork")&&(s.hotnetworkq=a(s.hotnetworkq));let i=JSON.stringify(s);localStorage.setItem("stack-focus-preferences",i),s=JSON.parse(i),console.log(s)}($(this).attr("id")),t()}),$(document).on("keyup",function(e){var s=window.event||e;81==s.keyCode&&s.ctrlKey&&(console.log(d),d.fadeToggle())})})}();
