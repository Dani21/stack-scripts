/ ==UserScript==
// @name         StackFocus
// @namespace    https://github.com/SpectricSO/stack-scripts
// @version      2.3
// @description  Cool stuff
// @author       SpectricSO
// @match       *://*.askubuntu.com/*
// @match       *://*.mathoverflow.net/*
// @match       *://*.serverfault.com/*
// @match       *://*.stackapps.com/*
// @match       *://*.stackexchange.com/*
// @match       *://*.stackoverflow.com/*
// @match       *://*.superuser.com/*
// @icon         https://www.google.com/s2/favicons?domain=stackoverflow.com
// @grant        none
// ==/UserScript==

!function(){"use strict";function e(e){var s="";for(var o in e)Object.hasOwnProperty.call(e,o)&&(s+=o+":"+e[o]+"; ");return s}function s(){var s=document.createElement("style");return s.textContent=function(s){var o="";for(var i in s)Object.hasOwnProperty.call(s,i)&&(o+=" "+i+"{"+e(s[i])+"}");return o}({".stack-focus-container":{"pointer-events":"none","z-index":1e5,display:"flex","align-items":"center","justify-content":"center",height:"100%",width:"100%",position:"fixed",top:0,left:0},".stack-focus":{"pointer-events":"all",width:"700px",height:"fit-content","background-color":"var(--white)","z-index":1e7,"box-shadow":"0 0 3px black","border-radius":"5px",padding:"2em","font-family":"Roboto"},".stack-focus .stack-focus-option":{position:"relative"},".stack-focus-option p":{position:"absolute",top:"5px"},".stack-focus .input-group .f-radio-toggle":{"margin-left":"auto"},".stack-focus h1":{"margin-bottom":"5px"}}),s.outerHTML}$(function(){var e;(e=document.createElement("link")).rel="stylesheet",e.href="https://fonts.googleapis.com/css?family=Roboto&display=swap",$(document.head).append(e),String.prototype.includes=function(e){return-1!=this.indexOf(e)},null!=localStorage.getItem("stack-focus-preferences")||localStorage.setItem("stack-focus-preferences",JSON.stringify({findajob:"show",teamsadvert:"show",oblock:"show",linked:"show",related:"show",hotnetworkq:"show"}));try{var o=JSON.parse(localStorage.getItem("stack-focus-preferences"))}catch(e){console.error("%cStack Focus storage has been corrupted. Enter %clocalStorage.removeItem('stack-focus-preferences');%c into the console to recalibrate storage.","","font-family:Courier","")}const i=s()+'<div class="stack-focus-container"> <div class="stack-focus"> <h1>Stack Focus Mode</h1> <h3>By: <a href="https://stackoverflow.com/users/14251221">Spectric</a></h3> <div> <div class="stack-focus-option"> <p>Left sidebar Find a Job category:</p><div class="input-group"> <div class="grid f-radio-toggle _muted"> <div class="grid--cell"> <input class="js-subscribe" type="radio" name="stack-focus-1" id="left_sidebar_findajob_on" checked=""> <label for="left_sidebar_findajob_on" class="f-label">Show</label></div><div class="grid--cell"> <input class="_off js-unsubscribe " type="radio" name="stack-focus-1" id="left_sidebar_findajob_off"> <label for="left_sidebar_findajob_off" class="f-label">Hide</label></div></div></div></div><div class="stack-focus-option"> <p>Left sidebar Teams advertisement:</p><div class="input-group"> <div class="grid f-radio-toggle _muted"> <div class="grid--cell"> <input class="js-subscribe" type="radio" name="stack-focus-2" id="left_sidebar_teams_on" checked=""> <label for="left_sidebar_teams_on" class="f-label">Show</label></div><div class="grid--cell"> <input class="_off js-unsubscribe " type="radio" name="stack-focus-2" id="left_sidebar_teams_off"> <label for="left_sidebar_teams_off" class="f-label">Hide</label></div></div></div></div><div class="stack-focus-option"> <p>Overflow Blog + Featured on Meta + Hot Meta Posts:</p><div class="input-group"> <div class="grid f-radio-toggle _muted"> <div class="grid--cell"> <input class="js-subscribe" type="radio" name="stack-focus-3" id="right_sidebar_oblock_on" checked=""> <label for="right_sidebar_oblock_on" class="f-label">Show</label></div><div class="grid--cell"> <input class="_off js-unsubscribe " type="radio" name="stack-focus-3" id="right_sidebar_oblock_off"> <label for="right_sidebar_oblock_off" class="f-label">Hide</label></div></div></div></div><div class="stack-focus-option"> <p>Linked Posts:</p><div class="input-group"> <div class="grid f-radio-toggle _muted"> <div class="grid--cell"> <input class="js-subscribe" type="radio" name="stack-focus-4" id="right_sidebar_linkedposts_on" checked=""> <label for="right_sidebar_linkedposts_on" class="f-label">Show</label></div><div class="grid--cell"> <input class="_off js-unsubscribe " type="radio" name="stack-focus-4" id="right_sidebar_linkedposts_off"> <label for="right_sidebar_linkedposts_off" class="f-label">Hide</label></div></div></div></div><div class="stack-focus-option"> <p>Related Posts:</p><div class="input-group"> <div class="grid f-radio-toggle _muted"> <div class="grid--cell"> <input class="js-subscribe" type="radio" name="stack-focus-5" id="right_sidebar_relatedposts_on" checked=""> <label for="right_sidebar_relatedposts_on" class="f-label">Show</label></div><div class="grid--cell"> <input class="_off js-unsubscribe " type="radio" name="stack-focus-5" id="right_sidebar_relatedposts_off"> <label for="right_sidebar_relatedposts_off" class="f-label">Hide</label></div></div></div></div><div class="stack-focus-option"> <p>Hot Network Questions</p><div class="input-group"> <div class="grid f-radio-toggle _muted"> <div class="grid--cell"> <input class="js-subscribe" type="radio" name="stack-focus-6" id="right_sidebar_hotnetwork_on" checked=""> <label for="right_sidebar_hotnetwork_on" class="f-label">Show</label></div><div class="grid--cell"> <input class="_off js-unsubscribe " type="radio" name="stack-focus-6" id="right_sidebar_hotnetwork_off"> <label for="right_sidebar_hotnetwork_off" class="f-label">Hide</label></div></div></div></div></div></div></div>';function t(e){e.prop("checked",!0)}function a(){"show"!=o.findajob?($($("li .fs-fine").get(1)).hide(),$("#nav-jobs").hide(),$("#nav-companies").hide(),t($("#left_sidebar_findajob_off"))):($($("li .fs-fine").get(1)).show(),$("#nav-jobs").show(),$("#nav-companies").show()),"show"!=o.teamsadvert?($($(".nav-links").get(2)).hide(),t($("#left_sidebar_teams_off"))):$($(".nav-links").get(2)).show(),"show"!=o.oblock?($('.s-sidebarwidget[data-tracker="cb=1"]').hide(),t($("#right_sidebar_oblock_off"))):$('.s-sidebarwidget[data-tracker="cb=1"]').show(),"show"!=o.linked?($(".sidebar-linked").hide(),t($("#right_sidebar_linkedposts_off"))):$(".sidebar-linked").show(),"show"!=o.related?($(".sidebar-related").hide(),t($("#right_sidebar_relatedposts_off"))):$(".sidebar-related").show(),"show"!=o.hotnetworkq?($("#hot-network-questions").hide(),t($("#right_sidebar_hotnetwork_off"))):$("#hot-network-questions").show()}var d;$(document.body).append(i),a(),(d=$(".stack-focus")).hide(),$("input",d).on("click",function(){!function(e){for(var s=[["left_sidebar_findajob","findajob"],["left_sidebar_teams","teamsadvert"],["right_sidebar_oblock","oblock"],["right_sidebar_linkedposts","linked"],["right_sidebar_relatedposts","related"],["right_sidebar_hotnetwork","hotnetworkq"]],i=s.length,t=0;t<i;t++){var a=s[t],d=a[0],l=a[1];e.includes(d)&&(o[l]="show"==o[l]?"hide":"show")}let r=JSON.stringify(o);localStorage.setItem("stack-focus-preferences",r),o=JSON.parse(r),console.log(o)}($(this).attr("id")),a()}),$(document).on("keyup",function(e){var s=window.event||e;81==s.keyCode&&s.ctrlKey&&(console.log(d),d.fadeToggle())})})}();

/*
MIT License: https://github.com/SpectricSO/stack-scripts/blob/main/LICENSE
*/
